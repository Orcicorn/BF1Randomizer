$(document).ready(function(){function a(a){o("changeClass("+a+")"),m.class=a,$("#popupclass").removeClass("show"),$("#classicon").removeClass().addClass("icon class "+a),$("#classname").text(a),n(a)}function s(a,s,c,n,t){o("changeGadget("+a+", "+s+", "+c+", "+n+")");var e="";o("> Previous: "+(e=1==s?m.gadget2:m.gadget1));var i=l(a,s,e);$(c).removeClass().addClass("icon weapon gadget "+i[3]),$(t).removeClass().addClass("icon meta "+i[2]),$(t).attr("title",p[i[2]]),$(n).text(i[1])}function c(a,s,c,n,t){var o=i(a,s);$(c).removeClass().addClass("icon weapon "+s+" "+o[3]),$(t).removeClass().addClass("icon meta "+o[2]),$(t).attr("title",p[o[2]]),$(n).text(o[1])}function n(a){c(a,"primary","#pricon","#prname","#prmeta"),c(a,"secondary","#scicon","#scname","#scmeta"),c(a,"grenade","#gricon","#grname","#grmeta"),s(m.class,1,"#g1icon","#g1name","#g1meta"),s(m.class,2,"#g2icon","#g2name","#g2meta")}function t(a){o("togglePopup("+a+")"),$(a).toggleClass("show")}function o(a){if(0==r)return null;console.log($.now()+" "+a)}function e(){o("getRandomClass()");for(var a=m.class;a==m.class;){var s=Math.floor(Math.random()*u.length);a=u[s]}return o("> "+u[s]),m.class=u[s],u[s]}function l(a,s,c){o("getRandomGadget("+a+", "+s+", "+c+")");for(var n=d.classes.all.gadget.concat(d.classes[a].gadget),t=m["gadget"+s];m["gadget"+s]==t||t==c;){var e=Math.floor(Math.random()*n.length);t=n[e][0]}return o("> ["+n[e][0]+"] "+n[e][1]),m["gadget"+s]=t,n[e]}function i(a,s){o("getRandomItem("+a+", "+s+")");for(var c=d.classes.all[s].concat(d.classes[a][s]),n=m[s];m[s]==n;){var t=Math.floor(Math.random()*c.length);n=c[t][0]}return o("> ["+c[t][0]+"] "+c[t][1]),m.class=a,m[s]=n,c[t]}var r=!1,g="assets/json/data.min.json?v=20170809",u=["assault","support","medic","scout"],d="",m={class:"nil",primary:"nil",secondary:"nil",gadget1:"nil",gadget2:"nil",melee:"nil"},p={unlock:"Unlocks through class achievements",tsnp:"Unlocks through 'They Shall Not Pass' DLC",puzzle:"Unlocks through Battlepack Puzzles"};o("touchEnable()"),$(".box").bind("touchstart touchend",function(a){$(this).toggleClass("touched"),o("> Toggle")}),function(s){o("loadJSONData()"),$.getJSON(g,function(c){d=c,s&&a(e())})}(!0),$("#class").click(function(){t("#popupclass")}),$("#popupclass-as").click(function(){a("assault")}),$("#popupclass-me").click(function(){a("medic")}),$("#popupclass-sc").click(function(){a("scout")}),$("#popupclass-su").click(function(){a("support")}),$("#popupclass-rnd").click(function(){a(e())}),$("#rndClass").click(function(){a(e())}),$("#rndKit").click(function(){n(m.class)}),$("#primary").click(function(){c(m.class,"primary","#pricon","#prname","#prmeta")}),$("#secondary").click(function(){c(m.class,"secondary","#scicon","#scname","#scmeta")}),$("#grenade").click(function(){c(m.class,"grenade","#gricon","#grname","#grmeta")}),$("#gadget1").click(function(){s(m.class,1,"#g1icon","#g1name","#g1meta")}),$("#gadget2").click(function(){s(m.class,2,"#g2icon","#g2name","#g2meta")})});