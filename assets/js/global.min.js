$(document).ready(function(){var a,s=!1,c="assets/json/data.min.json?v=20180223",n=["assault","support","medic","scout"],t="",o={class:"nil",primary:"nil",secondary:"nil",gadget1:"nil",gadget2:"nil",melee:"nil"},e={unlock:"Unlocks through class achievements",puzzle:"Unlocks through Battlepack Puzzles",tsnp:"Unlocks through 'They Shall Not Pass' DLC",tsar:"Unlocks through 'In The Name of the Tsar' DLC",apoc:"Unlocks through 'Apocalypse DLC"};function l(a){u("changeClass("+a+")"),o.class=a,$("#popupclass").removeClass("show"),$("#classicon").removeClass().addClass("icon class "+a),$("#classname").text(a),g(a)}function r(a,s,c,n,l){u("changeGadget("+a+", "+s+", "+c+", "+n+")");var r="";u("> Previous: "+(r=1==s?o.gadget2:o.gadget1));var i=function(a,s,c){u("getRandomGadget("+a+", "+s+", "+c+")");var n=t.classes.all.gadget.concat(t.classes[a].gadget),e=o["gadget"+s];for(;o["gadget"+s]==e||e==c;){var l=Math.floor(Math.random()*n.length);e=n[l][0]}return u("> ["+n[l][0]+"] "+n[l][1]),o["gadget"+s]=e,n[l]}(a,s,r);$(c).removeClass().addClass("icon weapon gadget "+i[3]),$(l).removeClass().addClass("icon meta "+i[2]),$(l).attr("title",e[i[2]]),$(n).text(i[1])}function i(a,s,c,n,l){var r=function(a,s){u("getRandomItem("+a+", "+s+")");var c=t.classes.all[s].concat(t.classes[a][s]),n=o[s];for(;o[s]==n;){var e=Math.floor(Math.random()*c.length);n=c[e][0]}return u("> ["+c[e][0]+"] "+c[e][1]),o.class=a,o[s]=n,c[e]}(a,s);$(c).removeClass().addClass("icon weapon "+s+" "+r[3]),$(l).removeClass().addClass("icon meta "+r[2]),$(l).attr("title",e[r[2]]),$(n).text(r[1])}function g(a){i(a,"primary","#pricon","#prname","#prmeta"),i(a,"secondary","#scicon","#scname","#scmeta"),i(a,"grenade","#gricon","#grname","#grmeta"),r(o.class,1,"#g1icon","#g1name","#g1meta"),r(o.class,2,"#g2icon","#g2name","#g2meta")}function u(a){if(0==s)return null;console.log($.now()+" "+a)}function d(){u("getRandomClass()");for(var a=o.class;a==o.class;){var s=Math.floor(Math.random()*n.length);a=n[s]}return u("> "+n[s]),o.class=n[s],n[s]}u("touchEnable()"),$(".box").bind("touchstart touchend",function(a){$(this).toggleClass("touched"),u("> Toggle")}),a=!0,u("loadJSONData()"),$.getJSON(c,function(s){t=s,a&&l(d())}),$("#class").click(function(){var a;u("togglePopup("+(a="#popupclass")+")"),$(a).toggleClass("show")}),$("#popupclass-as").click(function(){l("assault")}),$("#popupclass-me").click(function(){l("medic")}),$("#popupclass-sc").click(function(){l("scout")}),$("#popupclass-su").click(function(){l("support")}),$("#popupclass-rnd").click(function(){l(d())}),$("#rndClass").click(function(){l(d())}),$("#rndKit").click(function(){g(o.class)}),$("#primary").click(function(){i(o.class,"primary","#pricon","#prname","#prmeta")}),$("#secondary").click(function(){i(o.class,"secondary","#scicon","#scname","#scmeta")}),$("#grenade").click(function(){i(o.class,"grenade","#gricon","#grname","#grmeta")}),$("#gadget1").click(function(){r(o.class,1,"#g1icon","#g1name","#g1meta")}),$("#gadget2").click(function(){r(o.class,2,"#g2icon","#g2name","#g2meta")})});