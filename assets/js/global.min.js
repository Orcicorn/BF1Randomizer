$(document).ready(function(){var s,c=!1,n=["assault","support","medic","scout"],l="",r={class:"nil",primary:"nil",secondary:"nil",gadget1:"nil",gadget2:"nil",melee:"nil"},i={unlock:"Unlocks through class achievements",puzzle:"Unlocks through Battlepack Puzzles",tsnp:"Unlocks through 'They Shall Not Pass' DLC",tsar:"Unlocks through 'In The Name of the Tsar' DLC",tide:"Unlocks through 'Turning Tides' DLC",apoc:"Unlocks through 'Apocalypse DLC",bfv:"Unlocks with Battlefield V Pre-Order"};function t(a){u("changeClass("+a+")"),r.class=a,$("#popupclass").removeClass("show"),$("#classicon").removeClass().addClass("icon class "+a),$("#classname").text(a),g(a)}function e(a,s,c,n,t){u("changeGadget("+a+", "+s+", "+c+", "+n+")");var e="";u("> Previous: "+(e=1==s?r.gadget2:r.gadget1));var o=function(a,s,c){u("getRandomGadget("+a+", "+s+", "+c+")");var n=l.classes.all.gadget.concat(l.classes[a].gadget),t=r["gadget"+s];for(;r["gadget"+s]==t||t==c;){var e=Math.floor(Math.random()*n.length);t=n[e][0]}return u("> ["+n[e][0]+"] "+n[e][1]),r["gadget"+s]=t,n[e]}(a,s,e);$(c).removeClass().addClass("icon weapon gadget "+o[3]),$(t).removeClass().addClass("icon meta "+o[2]),$(t).attr("title",i[o[2]]),$(n).text(o[1])}function o(a,s,c,n,t){var e=function(a,s){u("getRandomItem("+a+", "+s+")");var c=l.classes.all[s].concat(l.classes[a][s]),n=r[s];for(;r[s]==n;){var t=Math.floor(Math.random()*c.length);n=c[t][0]}return u("> ["+c[t][0]+"] "+c[t][1]),r.class=a,r[s]=n,c[t]}(a,s);$(c).removeClass().addClass("icon weapon "+s+" "+e[3]),$(t).removeClass().addClass("icon meta "+e[2]),$(t).attr("title",i[e[2]]),$(n).text(e[1])}function g(a){o(a,"primary","#pricon","#prname","#prmeta"),o(a,"secondary","#scicon","#scname","#scmeta"),o(a,"grenade","#gricon","#grname","#grmeta"),e(r.class,1,"#g1icon","#g1name","#g1meta"),e(r.class,2,"#g2icon","#g2name","#g2meta")}function u(a){if(0==c)return null;console.log($.now()+" "+a)}function d(){u("getRandomClass()");for(var a=r.class;a==r.class;){var s=Math.floor(Math.random()*n.length);a=n[s]}return u("> "+n[s]),r.class=n[s],n[s]}u("touchEnable()"),$(".box").bind("touchstart touchend",function(a){$(this).toggleClass("touched"),u("> Toggle")}),s=!0,u("loadJSONData()"),$.getJSON("assets/json/data.min.json?v=201807231523",function(a){l=a,s&&t(d())}),$("#class").click(function(){var a;u("togglePopup("+(a="#popupclass")+")"),$(a).toggleClass("show")}),$("#popupclass-as").click(function(){t("assault")}),$("#popupclass-me").click(function(){t("medic")}),$("#popupclass-sc").click(function(){t("scout")}),$("#popupclass-su").click(function(){t("support")}),$("#popupclass-rnd").click(function(){t(d())}),$("#rndClass").click(function(){t(d())}),$("#rndKit").click(function(){g(r.class)}),$("#primary").click(function(){o(r.class,"primary","#pricon","#prname","#prmeta")}),$("#secondary").click(function(){o(r.class,"secondary","#scicon","#scname","#scmeta")}),$("#grenade").click(function(){o(r.class,"grenade","#gricon","#grname","#grmeta")}),$("#gadget1").click(function(){e(r.class,1,"#g1icon","#g1name","#g1meta")}),$("#gadget2").click(function(){e(r.class,2,"#g2icon","#g2name","#g2meta")})});